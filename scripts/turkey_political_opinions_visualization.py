import warningsimport pickleimport pandas as pdimport plotly.offline as pyimport plotly_express as px   from   pathlib         import Pathfrom   treeinterpreter import treeinterpreterfrom   waterfall_chart import plot as waterfallwarnings.simplefilter('ignore', FutureWarning)py.init_notebook_mode(connected=False)def rf_feature_importance(m, df):    return pd.DataFrame({'cols': df.columns, 'imp' :m.feature_importances_}                       ).sort_values('imp', ascending=False)if __name__=='__main__':       path = Path('../data/processed_data/turkey_political_opinions_processed.csv')        df = pd.read_csv(path, low_memory=False)        path = Path('models/RF_model.pkl')    with open(path, 'rb') as file:        model = pickle.load(file)        # caluclate feature importances     df.drop(columns='Political View', inplace=True)    fi = rf_feature_importance(model, df)        # create bar plot of feature importances----------------------------------    fig = px.bar(data_frame=fi, x='cols', y='imp',                  opacity=0.7, barmode='relative',                      title=None,                  width=None, height=None)        # Remove grid lines     fig.update_xaxes(showgrid=False)    fig.update_yaxes(showgrid=False)    fig.update_traces(marker_color='rgb(46,139,87)')        xaxis=dict(title='Feature')    yaxis=dict(title='Feature Importance')        layout = {'plot_bgcolor':"#FFFFFF", 'xaxis': xaxis, 'yaxis': yaxis,              'hovermode': False}    fig.update_layout(layout)        fig.show(config={"displayModeBar": False, "showTips": False}) # Remove floating menu and unnecesary dialog box        # To do: make it so the figure is saved without the menu and dialogue box    save_path = '../figures/turkey_political_opinions/turkey_political_opinions_feature_importances_bar.html'    fig.write_html(save_path)      #                   print('Success')